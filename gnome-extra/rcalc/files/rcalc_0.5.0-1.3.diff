--- rcalc-0.5.0.orig/debian/patches/series
+++ rcalc-0.5.0/debian/patches/series
@@ -0,0 +1,3 @@
+10_reduce_precision.diff
+20_vte_build.diff
+
--- rcalc-0.5.0.orig/debian/patches/10_reduce_precision.diff
+++ rcalc-0.5.0/debian/patches/10_reduce_precision.diff
@@ -0,0 +1,12 @@
+diff -urN rcalc-0.5.0.orig/src/engine/calculate.c rcalc-0.5.0/src/engine/calculate.c
+--- rcalc-0.5.0.orig/src/engine/calculate.c	2005-03-11 15:37:09.000000000 -0500
++++ rcalc-0.5.0/src/engine/calculate.c	2008-03-02 18:18:20.000000000 -0500
+@@ -1286,7 +1286,7 @@
+ 
+ 	/* Print the result
+ 	*/
+-	rc_printf("\t%s = %.16g\n", name, result );
++	rc_printf("\t%s = %.12g\n", name, result );
+ 	rc_export_value( name, init_expression, result );
+ 	g_free(init_expression);
+ }
--- rcalc-0.5.0.orig/debian/patches/20_vte_build.diff
+++ rcalc-0.5.0/debian/patches/20_vte_build.diff
@@ -0,0 +1,428 @@
+diff -urN rcalc-0.5.0.orig/configure rcalc-0.5.0/configure
+--- rcalc-0.5.0.orig/configure	2005-03-11 15:37:11.000000000 -0500
++++ rcalc-0.5.0/configure	2008-03-02 18:22:51.000000000 -0500
+@@ -309,7 +309,7 @@
+ # include <unistd.h>
+ #endif"
+ 
+-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO AMTAR install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM AWK SET_MAKE am__leading_dot MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT RANLIB ac_ct_RANLIB CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT DEPDIR am__include am__quote AMDEP_TRUE AMDEP_FALSE AMDEPBACKSLASH CCDEPMODE am__fastdepCC_TRUE am__fastdepCC_FALSE INTLTOOL_DESKTOP_RULE INTLTOOL_DIRECTORY_RULE INTLTOOL_KEYS_RULE INTLTOOL_PROP_RULE INTLTOOL_OAF_RULE INTLTOOL_PONG_RULE INTLTOOL_SERVER_RULE INTLTOOL_SHEET_RULE INTLTOOL_SOUNDLIST_RULE INTLTOOL_UI_RULE INTLTOOL_XAM_RULE INTLTOOL_KBD_RULE INTLTOOL_XML_RULE INTLTOOL_XML_NOMERGE_RULE INTLTOOL_CAVES_RULE INTLTOOL_SCHEMAS_RULE INTLTOOL_THEME_RULE INTLTOOL_EXTRACT INTLTOOL_MERGE INTLTOOL_UPDATE INTLTOOL_PERL INTLTOOL_ICONV INTLTOOL_MSGFMT INTLTOOL_MSGMERGE INTLTOOL_XGETTEXT mkdir_p CPP EGREP GCONFTOOL GCONF_SCHEMA_CONFIG_SOURCE GCONF_SCHEMA_FILE_DIR GCONF_SCHEMAS_INSTALL_TRUE GCONF_SCHEMAS_INSTALL_FALSE ENABLE_TERM_TRUE ENABLE_TERM_FALSE ENABLE_APPLET_TRUE ENABLE_APPLET_FALSE READLINE_LIBS PKG_CONFIG LIBZVT_CFLAGS LIBZVT_LIBS GNOME_APPLETS_CFLAGS GNOME_APPLETS_LIBS LIBGLADE_CFLAGS LIBGLADE_LIBS PACKAGE_CFLAGS PACKAGE_LIBS GETTEXT_PACKAGE USE_NLS MSGFMT GMSGFMT XGETTEXT CATALOGS CATOBJEXT DATADIRNAME GMOFILES INSTOBJEXT INTLLIBS PO_IN_DATADIR_TRUE PO_IN_DATADIR_FALSE POFILES POSUB MKINSTALLDIRS LIBOBJS LTLIBOBJS'
++ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO AMTAR install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM AWK SET_MAKE am__leading_dot MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT RANLIB ac_ct_RANLIB CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT DEPDIR am__include am__quote AMDEP_TRUE AMDEP_FALSE AMDEPBACKSLASH CCDEPMODE am__fastdepCC_TRUE am__fastdepCC_FALSE INTLTOOL_DESKTOP_RULE INTLTOOL_DIRECTORY_RULE INTLTOOL_KEYS_RULE INTLTOOL_PROP_RULE INTLTOOL_OAF_RULE INTLTOOL_PONG_RULE INTLTOOL_SERVER_RULE INTLTOOL_SHEET_RULE INTLTOOL_SOUNDLIST_RULE INTLTOOL_UI_RULE INTLTOOL_XAM_RULE INTLTOOL_KBD_RULE INTLTOOL_XML_RULE INTLTOOL_XML_NOMERGE_RULE INTLTOOL_CAVES_RULE INTLTOOL_SCHEMAS_RULE INTLTOOL_THEME_RULE INTLTOOL_EXTRACT INTLTOOL_MERGE INTLTOOL_UPDATE INTLTOOL_PERL INTLTOOL_ICONV INTLTOOL_MSGFMT INTLTOOL_MSGMERGE INTLTOOL_XGETTEXT mkdir_p CPP EGREP GCONFTOOL GCONF_SCHEMA_CONFIG_SOURCE GCONF_SCHEMA_FILE_DIR GCONF_SCHEMAS_INSTALL_TRUE GCONF_SCHEMAS_INSTALL_FALSE ENABLE_TERM_TRUE ENABLE_TERM_FALSE ENABLE_APPLET_TRUE ENABLE_APPLET_FALSE READLINE_LIBS PKG_CONFIG LIBVTE_CFLAGS LIBVTE_LIBS GNOME_APPLETS_CFLAGS GNOME_APPLETS_LIBS LIBGLADE_CFLAGS LIBGLADE_LIBS PACKAGE_CFLAGS PACKAGE_LIBS GETTEXT_PACKAGE USE_NLS MSGFMT GMSGFMT XGETTEXT CATALOGS CATOBJEXT DATADIRNAME GMOFILES INSTOBJEXT INTLLIBS PO_IN_DATADIR_TRUE PO_IN_DATADIR_FALSE POFILES POSUB MKINSTALLDIRS LIBOBJS LTLIBOBJS'
+ ac_subst_files=''
+ 
+ # Initialize some variables set by options.
+@@ -5011,32 +5011,32 @@
+   else
+      PKG_CONFIG_MIN_VERSION=0.9.0
+      if $PKG_CONFIG --atleast-pkgconfig-version $PKG_CONFIG_MIN_VERSION; then
+-        echo "$as_me:$LINENO: checking for libzvt-2.0" >&5
+-echo $ECHO_N "checking for libzvt-2.0... $ECHO_C" >&6
++        echo "$as_me:$LINENO: checking for libvte" >&5
++echo $ECHO_N "checking for libvte... $ECHO_C" >&6
+ 
+-        if $PKG_CONFIG --exists "libzvt-2.0" ; then
++        if $PKG_CONFIG --exists "vte" ; then
+             echo "$as_me:$LINENO: result: yes" >&5
+ echo "${ECHO_T}yes" >&6
+             succeeded=yes
+ 
+-            echo "$as_me:$LINENO: checking LIBZVT_CFLAGS" >&5
+-echo $ECHO_N "checking LIBZVT_CFLAGS... $ECHO_C" >&6
+-            LIBZVT_CFLAGS=`$PKG_CONFIG --cflags "libzvt-2.0"`
+-            echo "$as_me:$LINENO: result: $LIBZVT_CFLAGS" >&5
+-echo "${ECHO_T}$LIBZVT_CFLAGS" >&6
+-
+-            echo "$as_me:$LINENO: checking LIBZVT_LIBS" >&5
+-echo $ECHO_N "checking LIBZVT_LIBS... $ECHO_C" >&6
+-            LIBZVT_LIBS=`$PKG_CONFIG --libs "libzvt-2.0"`
+-            echo "$as_me:$LINENO: result: $LIBZVT_LIBS" >&5
+-echo "${ECHO_T}$LIBZVT_LIBS" >&6
++            echo "$as_me:$LINENO: checking LIBVTE_CFLAGS" >&5
++echo $ECHO_N "checking LIBVTE_CFLAGS... $ECHO_C" >&6
++            LIBVTE_CFLAGS=`$PKG_CONFIG --cflags "vte"`
++            echo "$as_me:$LINENO: result: $LIBVTE_CFLAGS" >&5
++echo "${ECHO_T}$LIBVTE_CFLAGS" >&6
++
++            echo "$as_me:$LINENO: checking LIBVTE_LIBS" >&5
++echo $ECHO_N "checking LIBVTE_LIBS... $ECHO_C" >&6
++            LIBVTE_LIBS=`$PKG_CONFIG --libs "vte"`
++            echo "$as_me:$LINENO: result: $LIBVTE_LIBS" >&5
++echo "${ECHO_T}$LIBVTE_LIBS" >&6
+         else
+-            LIBZVT_CFLAGS=""
+-            LIBZVT_LIBS=""
++            LIBVTE_CFLAGS=""
++            LIBVTE_LIBS=""
+             ## If we have a custom action on failure, don't print errors, but
+             ## do set a variable so people can do so.
+-            LIBZVT_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors "libzvt-2.0"`
+-            echo $LIBZVT_PKG_ERRORS
++            LIBVTE_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors "libvte"`
++            echo $LIBVTE_PKG_ERRORS
+         fi
+ 
+ 
+@@ -5050,8 +5050,8 @@
+   if test $succeeded = yes; then
+      :
+   else
+-     { { echo "$as_me:$LINENO: error: Library requirements (libzvt-2.0) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them." >&5
+-echo "$as_me: error: Library requirements (libzvt-2.0) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them." >&2;}
++     { { echo "$as_me:$LINENO: error: Library requirements (libvte) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them." >&5
++echo "$as_me: error: Library requirements (libvte) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them." >&2;}
+    { (exit 1); exit 1; }; }
+   fi
+ 
+@@ -7814,8 +7814,8 @@
+ s,@ENABLE_APPLET_FALSE@,$ENABLE_APPLET_FALSE,;t t
+ s,@READLINE_LIBS@,$READLINE_LIBS,;t t
+ s,@PKG_CONFIG@,$PKG_CONFIG,;t t
+-s,@LIBZVT_CFLAGS@,$LIBZVT_CFLAGS,;t t
+-s,@LIBZVT_LIBS@,$LIBZVT_LIBS,;t t
++s,@LIBVTE_CFLAGS@,$LIBVTE_CFLAGS,;t t
++s,@LIBVTE_LIBS@,$LIBVTE_LIBS,;t t
+ s,@GNOME_APPLETS_CFLAGS@,$GNOME_APPLETS_CFLAGS,;t t
+ s,@GNOME_APPLETS_LIBS@,$GNOME_APPLETS_LIBS,;t t
+ s,@LIBGLADE_CFLAGS@,$LIBGLADE_CFLAGS,;t t
+diff -urN rcalc-0.5.0.orig/configure.in rcalc-0.5.0/configure.in
+--- rcalc-0.5.0.orig/configure.in	2005-03-11 15:37:10.000000000 -0500
++++ rcalc-0.5.0/configure.in	2008-03-02 18:22:51.000000000 -0500
+@@ -63,8 +63,8 @@
+ if test x$enable_term_ui = xyes; then
+   READLINE_CHECK
+   PKG_CHECK_MODULES(LIBZVT, libzvt-2.0)
+-  AC_SUBST(LIBZVT_CFLAGS)
+-  AC_SUBST(LIBZVT_LIBS)
++  AC_SUBST(LIBVTE_CFLAGS)
++  AC_SUBST(LIBVTE_LIBS)
+ fi
+ 
+ if test x$enable_applet = xyes; then
+diff -urN rcalc-0.5.0.orig/help/C/Makefile.in rcalc-0.5.0/help/C/Makefile.in
+--- rcalc-0.5.0.orig/help/C/Makefile.in	2005-03-11 15:37:10.000000000 -0500
++++ rcalc-0.5.0/help/C/Makefile.in	2008-03-02 18:22:51.000000000 -0500
+@@ -171,8 +171,8 @@
+ LIBGLADE_LIBS = @LIBGLADE_LIBS@
+ LIBOBJS = @LIBOBJS@
+ LIBS = @LIBS@
+-LIBZVT_CFLAGS = @LIBZVT_CFLAGS@
+-LIBZVT_LIBS = @LIBZVT_LIBS@
++LIBVTE_CFLAGS = @LIBVTE_CFLAGS@
++LIBVTE_LIBS = @LIBVTE_LIBS@
+ LTLIBOBJS = @LTLIBOBJS@
+ MAINT = @MAINT@
+ MAINTAINER_MODE_FALSE = @MAINTAINER_MODE_FALSE@
+diff -urN rcalc-0.5.0.orig/help/Makefile.in rcalc-0.5.0/help/Makefile.in
+--- rcalc-0.5.0.orig/help/Makefile.in	2005-03-11 15:37:10.000000000 -0500
++++ rcalc-0.5.0/help/Makefile.in	2008-03-02 18:22:51.000000000 -0500
+@@ -109,8 +109,8 @@
+ LIBGLADE_LIBS = @LIBGLADE_LIBS@
+ LIBOBJS = @LIBOBJS@
+ LIBS = @LIBS@
+-LIBZVT_CFLAGS = @LIBZVT_CFLAGS@
+-LIBZVT_LIBS = @LIBZVT_LIBS@
++LIBVTE_CFLAGS = @LIBVTE_CFLAGS@
++LIBVTE_LIBS = @LIBVTE_LIBS@
+ LTLIBOBJS = @LTLIBOBJS@
+ MAINT = @MAINT@
+ MAINTAINER_MODE_FALSE = @MAINTAINER_MODE_FALSE@
+diff -urN rcalc-0.5.0.orig/Makefile.in rcalc-0.5.0/Makefile.in
+--- rcalc-0.5.0.orig/Makefile.in	2005-03-11 15:37:08.000000000 -0500
++++ rcalc-0.5.0/Makefile.in	2008-03-02 18:22:51.000000000 -0500
+@@ -109,8 +109,8 @@
+ LIBGLADE_LIBS = @LIBGLADE_LIBS@
+ LIBOBJS = @LIBOBJS@
+ LIBS = @LIBS@
+-LIBZVT_CFLAGS = @LIBZVT_CFLAGS@
+-LIBZVT_LIBS = @LIBZVT_LIBS@
++LIBVTE_CFLAGS = @LIBVTE_CFLAGS@
++LIBVTE_LIBS = @LIBVTE_LIBS@
+ LTLIBOBJS = @LTLIBOBJS@
+ MAINT = @MAINT@
+ MAINTAINER_MODE_FALSE = @MAINTAINER_MODE_FALSE@
+diff -urN rcalc-0.5.0.orig/src/applet/Makefile.in rcalc-0.5.0/src/applet/Makefile.in
+--- rcalc-0.5.0.orig/src/applet/Makefile.in	2005-03-11 15:37:09.000000000 -0500
++++ rcalc-0.5.0/src/applet/Makefile.in	2008-03-02 18:22:51.000000000 -0500
+@@ -110,8 +110,8 @@
+ LIBOBJS = @LIBOBJS@
+ 
+ LIBS = ../engine/librcengine.a
+-LIBZVT_CFLAGS = @LIBZVT_CFLAGS@
+-LIBZVT_LIBS = @LIBZVT_LIBS@
++LIBVTE_CFLAGS = @LIBVTE_CFLAGS@
++LIBVTE_LIBS = @LIBVTE_LIBS@
+ LTLIBOBJS = @LTLIBOBJS@
+ MAINT = @MAINT@
+ MAINTAINER_MODE_FALSE = @MAINTAINER_MODE_FALSE@
+diff -urN rcalc-0.5.0.orig/src/engine/Makefile.in rcalc-0.5.0/src/engine/Makefile.in
+--- rcalc-0.5.0.orig/src/engine/Makefile.in	2005-03-11 15:37:09.000000000 -0500
++++ rcalc-0.5.0/src/engine/Makefile.in	2008-03-02 18:22:51.000000000 -0500
+@@ -109,8 +109,8 @@
+ LIBGLADE_LIBS = @LIBGLADE_LIBS@
+ LIBOBJS = @LIBOBJS@
+ LIBS = @LIBS@
+-LIBZVT_CFLAGS = @LIBZVT_CFLAGS@
+-LIBZVT_LIBS = @LIBZVT_LIBS@
++LIBVTE_CFLAGS = @LIBVTE_CFLAGS@
++LIBVTE_LIBS = @LIBVTE_LIBS@
+ LTLIBOBJS = @LTLIBOBJS@
+ MAINT = @MAINT@
+ MAINTAINER_MODE_FALSE = @MAINTAINER_MODE_FALSE@
+diff -urN rcalc-0.5.0.orig/src/Makefile.in rcalc-0.5.0/src/Makefile.in
+--- rcalc-0.5.0.orig/src/Makefile.in	2005-03-11 15:37:08.000000000 -0500
++++ rcalc-0.5.0/src/Makefile.in	2008-03-02 18:22:51.000000000 -0500
+@@ -109,8 +109,8 @@
+ LIBGLADE_LIBS = @LIBGLADE_LIBS@
+ LIBOBJS = @LIBOBJS@
+ LIBS = @LIBS@
+-LIBZVT_CFLAGS = @LIBZVT_CFLAGS@
+-LIBZVT_LIBS = @LIBZVT_LIBS@
++LIBVTE_CFLAGS = @LIBVTE_CFLAGS@
++LIBVTE_LIBS = @LIBVTE_LIBS@
+ LTLIBOBJS = @LTLIBOBJS@
+ MAINT = @MAINT@
+ MAINTAINER_MODE_FALSE = @MAINTAINER_MODE_FALSE@
+diff -urN rcalc-0.5.0.orig/src/ui_list/Makefile.in rcalc-0.5.0/src/ui_list/Makefile.in
+--- rcalc-0.5.0.orig/src/ui_list/Makefile.in	2005-03-11 15:37:10.000000000 -0500
++++ rcalc-0.5.0/src/ui_list/Makefile.in	2008-03-02 18:22:51.000000000 -0500
+@@ -110,8 +110,8 @@
+ LIBOBJS = @LIBOBJS@
+ 
+ LIBS = ../engine/librcengine.a
+-LIBZVT_CFLAGS = @LIBZVT_CFLAGS@
+-LIBZVT_LIBS = @LIBZVT_LIBS@
++LIBVTE_CFLAGS = @LIBVTE_CFLAGS@
++LIBVTE_LIBS = @LIBVTE_LIBS@
+ LTLIBOBJS = @LTLIBOBJS@
+ MAINT = @MAINT@
+ MAINTAINER_MODE_FALSE = @MAINTAINER_MODE_FALSE@
+diff -urN rcalc-0.5.0.orig/src/ui_term/app.c rcalc-0.5.0/src/ui_term/app.c
+--- rcalc-0.5.0.orig/src/ui_term/app.c	2005-03-11 15:37:10.000000000 -0500
++++ rcalc-0.5.0/src/ui_term/app.c	2008-03-02 18:22:51.000000000 -0500
+@@ -30,7 +30,7 @@
+ #include <engine/debug.h>	/* Debugging functions			*/
+ 
+ #include <gnome.h>
+-#include <libzvt/libzvt.h>
++#include <vte/vte.h>
+ 
+ /*****************************************************************************/
+ 
+@@ -39,7 +39,7 @@
+                           int                   width_chars,
+                           int                   height_chars)
+ {
+-  zvt_term_set_size (ZVT_TERM (widget), width_chars, height_chars);
++  vte_terminal_set_size (VTE_TERMINAL (widget), width_chars, height_chars);
+ }
+ 
+ void
+@@ -48,9 +48,9 @@
+                           int                  *height_chars)
+ {
+   if (width_chars)
+-    *width_chars = ZVT_TERM (widget)->grid_width;
++    *width_chars = VTE_TERMINAL (widget)->column_count;
+   if (height_chars)
+-    *height_chars = ZVT_TERM (widget)->grid_height;
++    *height_chars = VTE_TERMINAL (widget)->row_count;
+ }
+ 
+ void
+@@ -59,9 +59,9 @@
+                                int                  *cell_height_pixels)
+ {
+   if (cell_width_pixels)
+-    *cell_width_pixels = ZVT_TERM (widget)->charwidth;
++    *cell_width_pixels = VTE_TERMINAL (widget)->char_width;
+   if (cell_height_pixels)
+-    *cell_height_pixels = ZVT_TERM (widget)->charheight;
++    *cell_height_pixels = VTE_TERMINAL (widget)->char_height;
+ }
+ 
+ #define PADDING 0 /* from zvtterm.c */
+@@ -189,18 +189,18 @@
+ 	/* Set the terminal behaviour.
+ 	*/
+ 	
+-	zvt_term_set_auto_window_hint (ZVT_TERM (terminal), FALSE);
++	/* vte_terminal_set_auto_window_hint (VTE_TERMINAL (terminal), FALSE); */
+ 	
+-	zvt_term_set_scrollback(
+-		ZVT_TERM(terminal), rcg_conf_get_scrollback(config) );
+-	zvt_term_set_scroll_on_keystroke(
+-		ZVT_TERM(terminal), rcg_conf_get_scroll_on_key(config) );
+-	zvt_term_set_scroll_on_output(
+-		ZVT_TERM(terminal), rcg_conf_get_scroll_on_out(config) );
+-	zvt_term_set_blink(
+-		ZVT_TERM(terminal), rcg_conf_get_blink(config) );
+-	zvt_term_set_bell(
+-		ZVT_TERM(terminal), rcg_conf_get_bell(config) );
++	vte_terminal_set_scroll_background(
++		VTE_TERMINAL(terminal), rcg_conf_get_scrollback(config) );
++	vte_terminal_set_scroll_on_keystroke(
++		VTE_TERMINAL(terminal), rcg_conf_get_scroll_on_key(config) );
++	vte_terminal_set_scroll_on_output(
++		VTE_TERMINAL(terminal), rcg_conf_get_scroll_on_out(config) );
++	vte_terminal_set_cursor_blinks(
++		VTE_TERMINAL(terminal), rcg_conf_get_blink(config) );
++	vte_terminal_set_audible_bell(
++		VTE_TERMINAL(terminal), rcg_conf_get_bell(config) );
+ 
+ 	/* Set the font (and the resize hints)
+ 	*/
+@@ -211,7 +211,7 @@
+ 	   pango_font_description_to_string (desc));*/
+ 	
+ 	g_assert(desc);
+-	zvt_term_set_pango_font (ZVT_TERM(terminal), desc);
++	vte_terminal_set_font (VTE_TERMINAL(terminal), desc);
+ 
+ #if 0	
+ 	if (desc) {	   
+@@ -230,7 +230,7 @@
+ 	/* ?!? this stopped working one day, but it used to work !	
+ 	  there's really something to do here.
+ 	  In addition, libzvt does not support pango font yet */	
+-	zvt_term_set_fonts( ZVT_TERM(terminal), font, font ); 
++	vte_terminal_set_font_full( VTE_TERMINAL(terminal), font, font ); 
+ #endif		
+ 	/*terminal_widget_set_size (terminal, 90,100);*/
+ 	terminal_widget_get_padding (terminal, &xpad, &ypad);
+@@ -280,8 +280,8 @@
+ 		palette[i][1]  = error[i];
+ 	}
+ 
+-	zvt_term_set_color_scheme(
+-		ZVT_TERM(terminal), palette[0], palette[1], palette[2] );
++	vte_terminal_set_colors(
++		VTE_TERMINAL(terminal), palette[0], palette[1], palette[2], sizeof(palette) );
+ }
+ 
+ /* Destroy event for the preferences window.
+@@ -349,8 +349,8 @@
+ 	g_assert( app );
+ 
+ 	terminal = gtk_object_get_data( GTK_OBJECT(app), "terminal" );
+-	g_assert( ZVT_TERM(terminal) );
+-	zvt_term_copy_clipboard (ZVT_TERM (terminal));
++	g_assert( VTE_TERMINAL(terminal) );
++	vte_terminal_copy_clipboard (VTE_TERMINAL (terminal));
+ }
+ 
+ /* Paste stuff into the terminal.
+@@ -366,9 +366,9 @@
+ 	g_assert( app );
+ 
+ 	terminal = gtk_object_get_data( GTK_OBJECT(app), "terminal" );
+-	g_assert( ZVT_TERM(terminal) );
++	g_assert( VTE_TERMINAL(terminal) );
+ 	
+-	zvt_term_paste_clipboard (ZVT_TERM (terminal));
++	vte_terminal_paste_clipboard (VTE_TERMINAL (terminal));
+ 	
+ 	/* All this code is straight from gnome-terminal.
+ 	** I have no idea what it does =).
+@@ -557,7 +557,7 @@
+ /* The main process for the GNOME user interface.
+ */
+ void rcg_main_process(
+-	FILE *to_reader, FILE *from_reader, ZvtTerm *terminal )
++	FILE *to_reader, FILE *from_reader, VteTerminal *terminal )
+ {
+ 	RcGnomeUiCfg	*config;	/* The user interface configuration  */
+ 	RcEngine	*engine;	/* The calculation engine itself     */
+diff -urN rcalc-0.5.0.orig/src/ui_term/app.h rcalc-0.5.0/src/ui_term/app.h
+--- rcalc-0.5.0.orig/src/ui_term/app.h	2005-03-11 15:37:10.000000000 -0500
++++ rcalc-0.5.0/src/ui_term/app.h	2008-03-02 18:22:51.000000000 -0500
+@@ -27,12 +27,12 @@
+ 
+ #include <stdio.h>
+ #include <gnome.h>
+-#include <libzvt/libzvt.h>
++#include <vte/vte.h>
+ 
+ 
+ void		rcg_main_process	( FILE *to_reader,
+ 					  FILE *from_reader,
+-					  ZvtTerm *terminal );
++					  VteTerminal *terminal );
+ 
+ 
+ #endif /* __RC_GNOMEUI_MAIN_H__ */
+diff -urN rcalc-0.5.0.orig/src/ui_term/main.c rcalc-0.5.0/src/ui_term/main.c
+--- rcalc-0.5.0.orig/src/ui_term/main.c	2005-03-11 15:37:10.000000000 -0500
++++ rcalc-0.5.0/src/ui_term/main.c	2008-03-02 18:22:51.000000000 -0500
+@@ -72,7 +72,7 @@
+ {
+ 	int main_to_reader[2];
+ 	int reader_to_main[2];
+-	ZvtTerm *terminal;
++	VteTerminal *terminal;
+ 	pid_t child_pid;
+ 
+ 	rc_debug( RC_DBG_TOPLEVEL, "executing GNOME user interface." );
+@@ -84,9 +84,11 @@
+ 
+ 	/* Create the terminal and fork
+ 	*/
+-	terminal  = ZVT_TERM( zvt_term_new_with_size( 10, 10 ) );
++	/* terminal  = VTE_TERMINAL( vte_term_new_with_size( 10, 10 ) ); */
++	terminal = vte_terminal_new();
++	vte_terminal_set_size(terminal, 10, 10);
+ 	errno     = 0;
+-	child_pid = zvt_term_forkpty( terminal, FALSE );
++	child_pid = vte_terminal_forkpty( terminal, NULL, NULL, FALSE, FALSE, FALSE );
+ 	if( child_pid == -1 )
+ 	{
+ 		g_error( "fork(): failed due to: %s.", g_strerror( errno ) );
+diff -urN rcalc-0.5.0.orig/src/ui_term/Makefile.am rcalc-0.5.0/src/ui_term/Makefile.am
+--- rcalc-0.5.0.orig/src/ui_term/Makefile.am	2005-03-11 15:37:10.000000000 -0500
++++ rcalc-0.5.0/src/ui_term/Makefile.am	2008-03-02 18:22:51.000000000 -0500
+@@ -3,7 +3,7 @@
+ INCLUDES = \
+ 	-DPACKAGE_DATA_DIR=\""$(datadir)"\" \
+ 	-DPACKAGE_LOCALE_DIR=\""$(prefix)/$(DATADIRNAME)/locale"\" \
+-	@PACKAGE_CFLAGS@ $(LIBZVT_CFLAGS) -I..
++	@PACKAGE_CFLAGS@ $(LIBVTE_CFLAGS) -I..
+ 
+ LIBS = ../engine/librcengine.a
+ bin_PROGRAMS = rcalc-term
+@@ -17,5 +17,5 @@
+   reader.c reader.h \
+   readline.c readline.h
+ 
+-rcalc_term_LDADD = @PACKAGE_LIBS@ $(READLINE_LIBS) $(INTLLIBS) $(LIBZVT_LIBS)
++rcalc_term_LDADD = @PACKAGE_LIBS@ $(READLINE_LIBS) $(INTLLIBS) $(LIBVTE_LIBS)
+ 
+diff -urN rcalc-0.5.0.orig/src/ui_term/Makefile.in rcalc-0.5.0/src/ui_term/Makefile.in
+--- rcalc-0.5.0.orig/src/ui_term/Makefile.in	2005-03-11 15:37:10.000000000 -0500
++++ rcalc-0.5.0/src/ui_term/Makefile.in	2008-03-02 18:22:51.000000000 -0500
+@@ -110,8 +110,8 @@
+ LIBOBJS = @LIBOBJS@
+ 
+ LIBS = ../engine/librcengine.a
+-LIBZVT_CFLAGS = @LIBZVT_CFLAGS@
+-LIBZVT_LIBS = @LIBZVT_LIBS@
++LIBVTE_CFLAGS = @LIBVTE_CFLAGS@
++LIBVTE_LIBS = @LIBVTE_LIBS@
+ LTLIBOBJS = @LTLIBOBJS@
+ MAINT = @MAINT@
+ MAINTAINER_MODE_FALSE = @MAINTAINER_MODE_FALSE@
+@@ -174,7 +174,7 @@
+ INCLUDES = \
+ 	-DPACKAGE_DATA_DIR=\""$(datadir)"\" \
+ 	-DPACKAGE_LOCALE_DIR=\""$(prefix)/$(DATADIRNAME)/locale"\" \
+-	@PACKAGE_CFLAGS@ $(LIBZVT_CFLAGS) -I..
++	@PACKAGE_CFLAGS@ $(LIBVTE_CFLAGS) -I..
+ 
+ bin_PROGRAMS = rcalc-term
+ 
+@@ -188,7 +188,7 @@
+   readline.c readline.h
+ 
+ 
+-rcalc_term_LDADD = @PACKAGE_LIBS@ $(READLINE_LIBS) $(INTLLIBS) $(LIBZVT_LIBS)
++rcalc_term_LDADD = @PACKAGE_LIBS@ $(READLINE_LIBS) $(INTLLIBS) $(LIBVTE_LIBS)
+ subdir = src/ui_term
+ ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
+ mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs
--- rcalc-0.5.0.orig/debian/control
+++ rcalc-0.5.0/debian/control
@@ -0,0 +1,15 @@
+Source: rcalc
+Section: gnome
+Priority: optional
+Maintainer: Sam Hocevar (Debian packages) <sam+deb@zoy.org>
+Build-Depends: debhelper (>= 5.0.0), quilt, libncurses5-dev, libreadline5-dev, libglib2.0-dev, libgnomeui-dev (>= 2.0.0), libvte-dev, libpanel-applet2-dev, pkg-config, libxml-parser-perl, scrollkeeper
+Standards-Version: 3.7.3
+
+Package: rcalc
+Architecture: any
+Depends: ${shlibs:Depends}, ${misc:Depends}
+Description: graphical symbolic calculator
+ rCalc is a scientific calculator for the GNOME desktop environment. It aims
+ to occupy the middle ground between simple `point-and-click' calculators and
+ full featured mathematical packages, and hopefully take some of the best of
+ both worlds.
--- rcalc-0.5.0.orig/debian/changelog
+++ rcalc-0.5.0/debian/changelog
@@ -0,0 +1,104 @@
+rcalc (0.5.0-1.3) unstable; urgency=low
+
+  * Non-maintainer upload.
+  * Add quilt patching system.
+    + 10_reduce_precision.diff - Old patch to reduce display precision.
+  * Update libzvt-dev build dep to libvte-dev. (Closes: #466143).
+    + 20_vte_build.diff - Update code to build with vte.
+  * Update debian/copyright.
+  * Escape options in debian/grcalc.1.
+  * Make clean not ignore errors.
+  * Remove unneeded/unused debhelper commands from rules.
+  * Bump deb-helper build-dep and compat to 5.
+  * Bump Standards Version to 3.7.3. (No changes needed).
+
+ -- Barry deFreese <bddebian@comcast.net>  Sun, 02 Mar 2008 18:09:32 -0500
+
+rcalc (0.5.0-1.2) unstable; urgency=low
+
+  * Non-maintainer Upload
+  * Renaming the rcalc binaries to grcalc to avoid a name clash with the rcalc
+    tool from the radiance package. (Closes: #446725)
+  * Renaming the manpage and updating the menu file to reflect the name
+    change, also fixing grcalc's options as it doesn't support -t/-g  anymore,
+    using grcalc-term in the menu instead. (Closes: #446749)
+
+ -- Bernd Zeimetz <bernd@bzed.de>  Sun, 21 Oct 2007 21:32:40 +0200
+
+rcalc (0.5.0-1.1) unstable; urgency=medium
+
+  * NMU.
+  * Build depend on libxml-parser-perl, scrollkeeper.  Closes: #339103.
+  * Use dh_gconf to migrate GConf schemas.  Closes: #340527.
+
+ -- Matej Vela <vela@debian.org>  Wed, 25 Jan 2006 17:44:46 +0100
+
+rcalc (0.5.0-1) unstable; urgency=low
+
+  * New upstream release (Closes: #306961).
+  * debian/control:
+    + Set policy to 3.6.2.1.
+    + Build-depend on libreadline5-dev (Closes: #326305).
+    + Build-depend on libpanel-applet2-dev.
+    + Build-depend on pkg-config.
+  * debian/rules:
+    + Use debian/compat instead of DH_COMPAT.
+    + Enable the GNOME applet.
+
+ -- Sam Hocevar (Debian packages) <sam+deb@zoy.org>  Mon, 14 Nov 2005 18:58:04 +0100
+
+rcalc (0.3.99-4) unstable; urgency=low
+
+  * debian/control:
+    + Set policy to 3.6.1.0.
+  * debian/rcalc.1:
+    + Enhanced manpage.
+  * src/engine/calculate.c:
+    + Reduced display precision to avoid rounding artifacts (Closes: #221721).
+
+ -- Sam Hocevar (Debian packages) <sam+deb@zoy.org>  Mon,  8 Dec 2003 18:08:14 +0100
+
+rcalc (0.3.99-3) unstable; urgency=low
+
+  * debian/control:
+    + Set policy to 3.5.10.
+    + Removed the leading "a" from the package description.
+  * Added a menu entry for the ncurses version of rCalc.
+
+ -- Sam Hocevar (Debian packages) <sam+deb@zoy.org>  Tue, 10 Jun 2003 06:03:38 +0200
+
+rcalc (0.3.99-2) unstable; urgency=low
+
+  * Removed upstream INSTALL file.
+  * Rewrote the description field.
+  * Updated standards version to 3.5.9.0.
+  * Removed obsolete call to dh_suidregister.
+  * Added correct versioned dependency on debhelper.
+
+ -- Samuel Hocevar <sam@zoy.org>  Wed, 26 Mar 2003 02:43:15 +0100
+
+rcalc (0.3.99-1) unstable; urgency=low
+
+  * New upstream version.
+  * Debian-specific french translation is now in the upstream tarball.
+
+ -- Samuel Hocevar <sam@zoy.org>  Sat, 22 Mar 2003 23:38:07 +0100
+
+rcalc (0.2.5-3) unstable; urgency=low
+
+  * Added "Calculators" hint in menu entry (Closes: #80046).
+
+ -- Samuel Hocevar <sam@zoy.org>  Wed, 20 Dec 2000 04:44:09 +0100
+
+rcalc (0.2.5-2) unstable; urgency=low
+
+  * Fixed build dependencies (Closes: #79413).
+
+ -- Samuel Hocevar <sam@zoy.org>  Tue, 12 Dec 2000 15:45:38 +0100
+
+rcalc (0.2.5-1) unstable; urgency=low
+
+  * Initial Release (Closes: #78212).
+
+ -- Samuel Hocevar <sam@zoy.org>  Wed, 29 Nov 2000 07:28:44 +0100
+
--- rcalc-0.5.0.orig/debian/docs
+++ rcalc-0.5.0/debian/docs
@@ -0,0 +1,2 @@
+AUTHORS
+README
--- rcalc-0.5.0.orig/debian/menu
+++ rcalc-0.5.0/debian/menu
@@ -0,0 +1,4 @@
+?package(rcalc):needs="X11" section="Applications/Science/Mathematics"\
+  hints="Calculators" title="rCalc" command="/usr/bin/grcalc"
+?package(rcalc):needs="X11" section="Applications/Science/Mathematics"\
+  hints="Calculators" title="rCalc (text)" command="/usr/bin/grcalc-term"
--- rcalc-0.5.0.orig/debian/grcalc.1
+++ rcalc-0.5.0/debian/grcalc.1
@@ -0,0 +1,33 @@
+.\"                                      Hey, EMACS: -*- nroff -*-
+.\" First parameter, NAME, should be all caps
+.\" Second parameter, SECTION, should be 1-8, maybe w/ subsection
+.\" other parameters are allowed: see man(7), man(1)
+.TH GRCALC 1 "December 8, 2003"
+.\" Please adjust this date whenever revising the manpage.
+.\"
+.\" Some roff macros, for reference:
+.\" .nh        disable hyphenation
+.\" .hy        enable hyphenation
+.\" .ad l      left justify
+.\" .ad b      justify to both left and right margins
+.\" .nf        disable filling
+.\" .fi        enable filling
+.\" .br        insert line break
+.\" .sp <n>    insert n+1 empty lines
+.\" for manpage-specific macros, see man(7)
+.SH NAME
+grcalc \- symbolic calculator for GNOME
+.SH SYNOPSIS
+.B grcalc
+.RI [ OPTIONS ]... 
+.SH DESCRIPTION
+This manual page documents briefly
+.B grcalc
+, a fast, simple, symbolic calculator for GNOME.
+.SH OPTIONS
+.B grcalc
+accepts the standard GNOME application options. Try `grcalc \-\-help' to
+get more information about these options.
+.SH AUTHOR
+This manual page was written by Sam Hocevar <sam@zoy.org>
+for the Debian GNU/Linux system (but may be used by others).
--- rcalc-0.5.0.orig/debian/compat
+++ rcalc-0.5.0/debian/compat
@@ -0,0 +1 @@
+5
--- rcalc-0.5.0.orig/debian/dirs
+++ rcalc-0.5.0/debian/dirs
@@ -0,0 +1,2 @@
+usr/bin
+usr/share
--- rcalc-0.5.0.orig/debian/copyright
+++ rcalc-0.5.0/debian/copyright
@@ -0,0 +1,27 @@
+This package was debianized by Sam Hocevar <sam@zoy.org> on
+Wed, 29 Nov 2000 07:28:44 +0100.
+
+It was downloaded from http://rcalc.sourceforge.net/
+
+Upstream Authors: Gary Benson <garyb@ee.bath.ac.uk>
+                  Clement Bourdarias <phneutre@icculus.org>
+
+Copyright: Copyright (C) 1999, 2000, 2001 Free Software Foundation, Inc.
+
+ This program is free software; you can redistribute it and/or modify
+ it under the terms of the GNU General Public License as published by
+ the Free Software Foundation; either version 2 of the License, or
+ (at your option) any later version.
+
+ This program is distributed in the hope that it will be useful,
+ but WITHOUT ANY WARRANTY; without even the implied warranty of
+ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ GNU General Public License for more details.
+
+ You should have received a copy of the GNU General Public License with
+ the Debian GNU/Linux distribution in file /usr/share/common-licenses/GPL;
+ if not, write to the Free Software Foundation, Inc., 51 Franklin St,
+ Fifth Floor, Boston, MA 02110-1301, USA.
+
+On Debian GNU/Linux systems, the complete text of the GNU General
+Public License can be found in /usr/share/common-licenses/GPL.
--- rcalc-0.5.0.orig/debian/rules
+++ rcalc-0.5.0/debian/rules
@@ -0,0 +1,82 @@
+#!/usr/bin/make -f
+# Sample debian/rules that uses debhelper.
+# GNU copyright 1997 to 1999 by Joey Hess.
+
+# Uncomment this to turn on verbose mode.
+#export DH_VERBOSE=1
+
+include /usr/share/quilt/quilt.make
+
+export DEB_HOST_GNU_TYPE  ?= $(shell dpkg-architecture -qDEB_HOST_GNU_TYPE)
+export DEB_BUILD_GNU_TYPE ?= $(shell dpkg-architecture -qDEB_BUILD_GNU_TYPE)
+
+confflags = --prefix=/usr --sysconfdir=/etc
+confflags += --libexecdir=\$${prefix}/lib/gnome-applets
+confflags += --mandir=\$${prefix}/share/man --infodir=\$${prefix}/share/info
+ifeq ($(DEB_BUILD_GNU_TYPE), $(DEB_HOST_GNU_TYPE))
+  confflags += --build $(DEB_HOST_GNU_TYPE)
+else
+  confflags += --build $(DEB_BUILD_GNU_TYPE) --host $(DEB_HOST_GNU_TYPE)
+endif
+
+configure: patch configure-stamp
+configure-stamp:
+	dh_testdir
+	# Touch stuff
+	touch configure.in \
+	&& touch aclocal.m4 \
+	&& touch configure \
+	&& touch config.h.in \
+	&& touch `find . -name Makefile.in`
+	./configure $(confflags) --enable-applet --enable-term-ui --program-prefix=g
+	touch configure-stamp
+
+build: configure build-stamp
+build-stamp:
+	dh_testdir
+	$(MAKE)
+	touch build-stamp
+
+clean: clean-stamp unpatch
+clean-stamp:
+	dh_testdir
+	dh_testroot
+	rm -f build-stamp configure-stamp
+	[ ! -f Makefile ] || $(MAKE) distclean
+	dh_clean
+
+install: build
+	dh_testdir
+	dh_testroot
+	dh_clean -k
+	dh_installdirs
+	$(MAKE) install DESTDIR=`pwd`/debian/rcalc
+
+# Build architecture-independent files here.
+binary-indep: build install
+# We have nothing to do by default.
+
+# Build architecture-dependent files here.
+binary-arch: build install
+	dh_testdir
+	dh_testroot
+	dh_installdocs
+	dh_scrollkeeper
+	dh_installmenu
+	dh_installman debian/grcalc.1
+	ln -s grcalc.1.gz debian/rcalc/usr/share/man/man1/grcalc-term.1.gz
+	dh_installinfo
+	dh_installchangelogs NEWS
+	dh_gconf
+	dh_link
+	dh_strip
+	dh_compress
+	dh_fixperms
+	dh_installdeb
+	dh_shlibdeps
+	dh_gencontrol
+	dh_md5sums
+	dh_builddeb
+
+binary: binary-indep binary-arch
+.PHONY: build clean binary-indep binary-arch binary install configure

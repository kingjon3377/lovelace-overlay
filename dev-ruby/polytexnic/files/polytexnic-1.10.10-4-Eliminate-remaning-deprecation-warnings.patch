From c7c5a5dfd61c17204fb73acc299de1f9e1eded1c Mon Sep 17 00:00:00 2001
From: Michael Hartl <mhartl@michaelhartl.com>
Date: Sun, 11 May 2025 08:04:21 -0700
Subject: [PATCH 4/4] Eliminate remaning deprecation warnings

---
 spec/to_html/asides_spec.rb        | 2 +-
 spec/to_html/codelistings_spec.rb  | 2 +-
 spec/to_html/proof_theorem_spec.rb | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/spec/to_html/asides_spec.rb b/spec/to_html/asides_spec.rb
index 668c54e..ca29bc9 100644
--- a/spec/to_html/asides_spec.rb
+++ b/spec/to_html/asides_spec.rb
@@ -42,7 +42,7 @@ describe 'Polytexnic::Pipeline#to_html' do
 
     context "with a custom language label" do
       before do
-        pipeline.stub(:language_labels).
+        allow(pipeline).to receive(:language_labels).
                  and_return({ "chapter" => { "word" => "Chapter",
                                              "order" => "standard" },
                               "aside" => "Cajón" })
diff --git a/spec/to_html/codelistings_spec.rb b/spec/to_html/codelistings_spec.rb
index c9fcdc6..1d5f0d2 100644
--- a/spec/to_html/codelistings_spec.rb
+++ b/spec/to_html/codelistings_spec.rb
@@ -47,7 +47,7 @@ Listing~\ref{code:create_gemrc}
 
     context "with a custom language label" do
       before do
-        pipeline.stub(:language_labels).
+        allow(pipeline).to receive(:language_labels).
                  and_return({ "chapter" => { "word" => "Chapter",
                                              "order" => "standard" },
                               "listing" => "Código" })
diff --git a/spec/to_html/proof_theorem_spec.rb b/spec/to_html/proof_theorem_spec.rb
index 0577b3b..e979567 100644
--- a/spec/to_html/proof_theorem_spec.rb
+++ b/spec/to_html/proof_theorem_spec.rb
@@ -102,7 +102,7 @@ describe 'Polytexnic::Pipeline#to_html' do
 
   describe "articles theorems" do
     before do
-      pipeline.stub(:article?).and_return(true)
+      allow(pipeline).to receive(:article?).and_return(true)
     end
 
     let(:polytex) do <<-'EOS'
-- 
2.49.1

